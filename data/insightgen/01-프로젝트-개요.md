```markdown
# 프로젝트 개요

## 목적과 핵심 기능
- 본 프로젝트는 코드 구조를 분석하고, 검색 및 대화형 질의응답을 통해 개발자 생산성을 향상시키는 것을 목표로 합니다. 
- 해결하려는 문제는 코드베이스의 복잡성으로 인한 이해도 저하와 협업 효율성 저하입니다.
- 핵심 기능:
  - **StructSynth**: 코드 구조 분석 및 시각화.
  - **CodeChat**: 코드 관련 대화형 질의응답.
  - **코드 인사이트/검색**: 심볼 및 함수 검색.

## 시스템 구성
- **백엔드**: FastAPI (포트 8000)
- **UI**: Streamlit (포트 8501)
- **주요 디렉토리**:
  - `agents/`: StructSynth 및 CodeChat 에이전트 로직.
  - `api/`: API 엔드포인트 정의.
  - `ui/`: 사용자 인터페이스 구성.
  - `common/`: 공통 유틸리티 및 설정.
  - `tools/`: 데이터 처리 및 분석 도구.
- **데이터/아티팩트**:
  - `data/structsynth_code.db`: 코드베이스 메타데이터 저장.
  - `artifacts/faiss.index`: 벡터 인덱스 파일.
  - `artifacts/backend.log`: 백엔드 로그 파일.
- **의존 사항**:
  - Azure OpenAI: `AZURE_OPENAI_API_KEY`, `ENDPOINT`, `API_VERSION`, `DEPLOYMENT_NAME`, `EMBEDDING_DEPLOYMENT`.

## 실행 방법
1. **Docker Compose 실행**:
   ```bash
   docker compose up -d
   ```
   또는 `run_all.sh` 스크립트 실행.
2. **헬스체크**:
   - 백엔드: [http://localhost:8000/health](http://localhost:8000/health)
   - UI: [http://localhost:8501](http://localhost:8501)

## 데이터베이스/벡터 스토어 상태 요약
| 항목              | 값       |
|-------------------|----------|
| 총 파일 수        | 2        |
| 총 심볼 수        | 156      |
| 총 청크 수        | 34       |
| 총 벡터 수        | 64       |
| 벡터 차원         | 3072     |
| 분석 상태         | no_analysis_performed |
| 언어 분포         | Python: 2 |
| 심볼 유형 분포    | 클래스: 2, 함수: 32, 외부 호출: 122 |

## 주요 컴포넌트 설명
- **Agents**:
  - **StructSynth**: 코드 구조 분석 및 청크 생성. 입력: 코드 디렉토리, 출력: 분석 결과.
  - **CodeChat**: 코드 관련 질의응답. 입력: 사용자 질문, 출력: 답변.
- **API**:
  - 주요 엔드포인트:
    - `/`: 기본 엔드포인트.
    - `/health`: 상태 확인.
    - `/api/agents`: 에이전트 호출.
    - `/api/chat`: CodeChat 질의응답.
- **UI**:
  - 탭 구성:
    - **Code Analysis**: 코드 구조 분석 결과.
    - **Code Chat**: 대화형 질의응답.
    - **Docs**: 문서 및 가이드.
    - **Status**: 시스템 상태 확인.
  - 기본 사용 흐름: 코드 분석 → 질의응답.

## 기본 사용 시나리오
1. 코드 디렉토리 지정.
2. StructSynth를 통해 코드 분석 및 데이터베이스/벡터 생성.
3. UI에서 Code Analysis 탭으로 분석 결과 확인.
4. Code Chat 탭에서 코드 관련 질문 입력.
5. CodeChat 에이전트가 답변 제공.
6. 필요 시 Docs 탭에서 추가 문서 확인.

## 문제 해결 가이드(요약)
- **API 연결 실패**:
  - 원인: 백엔드 미실행.
  - 조치: `docker compose up -d`로 백엔드 실행.
- **임베딩/벡터 미로딩**:
  - 원인: `faiss.index` 파일 누락.
  - 조치: 데이터베이스 재생성 후 확인.
- **환경변수 미설정**:
  - 원인: Azure OpenAI 키 누락.
  - 조치: `.env` 파일에 필요한 키 추가.

## 다음 액션
1. `docker compose up -d`로 시스템 실행 후 UI 접속.
2. 샘플 코드 디렉토리 분석 및 결과 확인.
3. Code Chat에서 간단한 질문 테스트.


```